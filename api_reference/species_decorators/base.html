
<!DOCTYPE html>


<html lang="en" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Generic decorators &#8212; WFacer 0.0.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script src="../../_static/documentation_options.js?v=12533ade"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api_reference/species_decorators/base';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Charge decorators" href="charge.html" />
    <link rel="prev" title="Species decorators" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Sep 30, 2023"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    <p class="title logo__title">WFacer</p>
  
</a></div>
    
      <div class="navbar-item"><ul class="navbar-nav">
  <li class="version-switcher__container dropdown">
    <button
      type="button"
      role="button"
      class="version-switcher__button btn btn-sm navbar-btn"
      data-bs-toggle="dropdown"
      id="dLabelMore"
      aria-haspopup="listbox"
    >
      v0.0.0
      <span class="caret"></span>
    </button>
  </li>
</ul></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../contributing.html">
                        Contributing Guidelines
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        API Reference
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/WFacer/blob/master/CHANGES.md">
                    Changes
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/WFacer/issues">
                    Issues
                  </a>
                </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/CederGroupHub/WFacer" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../contributing.html">
                        Contributing Guidelines
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        API Reference
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/WFacer/blob/master/CHANGES.md">
                    Changes
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/WFacer/issues">
                    Issues
                  </a>
                </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/CederGroupHub/WFacer" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../sample_generators/index.html">Structure generators</a><input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../sample_generators/mc_generators.html">Monte-Carlo sample generators</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Species decorators</a><input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Generic decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="charge.html">Charge decorators</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../utils/index.html">Miscellaneous utility functions</a><input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../utils/convex_hull.html">Convex hull</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/duplicacy.html">Duplicacy check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/occu.html">Occupancy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/query.html">Data query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/selection.html">Structure selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/sparselm.html">Sparse-lm estimator handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/supercells.html">Supercell matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/taskdoc.html">TaskDoc handling</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../WFacer/index.html">WFacer main functionalities</a><input checked class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/convergence.html">Cluster expansion convergence check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/enumeration.html">Structure enumeration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/fit.html">Cluster expansion fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/jobs.html">Cluster expansion jobs (Atomate2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/maker.html">Cluster expansion workflow maker (Atomate2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/preprocessing.html">Preprocess options and inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/schema.html">The CeOutputsDocument schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WFacer/wrangling.html">CeDataWrangler (WFacer)</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">API Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Species decorators</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Generic decorators</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="module-WFacer.specie_decorators.base">
<span id="generic-decorators"></span><h1>Generic decorators<a class="headerlink" href="#module-WFacer.specie_decorators.base" title="Link to this heading">#</a></h1>
<p>Decorate properties to a structure composed of Element.</p>
<p>This module offers generic classes and functions for defining an algorithm
used to map VASP calculated site properties into the label of species. For
example, <a class="reference internal" href="#WFacer.specie_decorators.base.BaseDecorator" title="WFacer.specie_decorators.base.BaseDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDecorator</span></code></a>, <a class="reference internal" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator" title="WFacer.specie_decorators.base.MixtureGaussianDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MixtureGaussianDecorator</span></code></a>,
<a class="reference internal" href="#WFacer.specie_decorators.base.GpOptimizedDecorator" title="WFacer.specie_decorators.base.GpOptimizedDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">GpOptimizedDecorator</span></code></a> and <a class="reference internal" href="#WFacer.specie_decorators.base.NoTrainDecorator" title="WFacer.specie_decorators.base.NoTrainDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoTrainDecorator</span></code></a>. These abstract
classes are meant to be inherited by any decorator class that maps specific
site properties.</p>
<p>Currently, we can only decorate charge. Plan to allow decorating
spin in the future updates.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All entries should be re-decorated and all decorators
should be retrained after an iteration.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BaseDecorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#BaseDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">MSONable</span></code></p>
<p>Abstract decorator class.</p>
<ol class="arabic simple">
<li><p>Each decorator should only be used to decorate one property.</p></li>
<li><p>Currently, only supports assigning labels from one scalar site property,
and requires that the site property can be accessed from
<code class="xref py py-class docutils literal notranslate"><span class="pre">ComputedStructureEntry</span></code>, which should be sufficient for most
purposes.</p></li>
<li><p>Can not decorate entries with partial disorder.</p></li>
</ol>
<p>Initialize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>labels</strong> (<em>dict</em><em> of </em><em>str</em><em> or </em><em>Species to list</em>) – optional
A table of labels to decorate each element with.
keys are species symbol, values are possible decorated property
values, such as oxidation states, magnetic spin directions.
Values are sorted such that the corresponding cluster centers of the
required property is increasing. For example, in Mn(2, 3, 4)+
(high spin), the magnetic moments is sorted as [Mn4+, Mn3+, Mn2+],
thus you should provide labels as {Element(“Mn”):[4, 3, 2]}.
Keys can be either Element|Species object, or their
string representations. Currently, do not support decoration
of Vacancy.
If you have multiple required properties, or required properties
have multiple dimensions, the labels order must match the sort
in the order of self.required_properties. Properties are sorted
lexicographically.
This argument may not be necessary for some decorator, such as
GuessChargeDecorator.
Be sure to provide labels for all the species you wish to assign
a property to, otherwise, you are responsible for your own error!</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#BaseDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.as_dict" title="Link to this definition">#</a></dt>
<dd><p>Serialize the decorator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.decorate">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">decorate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#BaseDecorator.decorate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.decorate" title="Link to this definition">#</a></dt>
<dd><p>Give decoration to entries based on trained model.</p>
<p>If an assigned entry is not valid,
for example, in charge assignment, if a decorated structure is not
charge neutral, this entry will be returned as None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – Entries of computed, undecorated structures.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Entries with decorated structures or failed structures.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of NoneType or ComputedStructureEntry</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.decorated_prop_name">
<span class="sig-name descname"><span class="pre">decorated_prop_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.decorated_prop_name" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.from_dict">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#BaseDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.from_dict" title="Link to this definition">#</a></dt>
<dd><p>Deserialization.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.group_site_by_species">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">group_site_by_species</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#BaseDecorator.group_site_by_species"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.group_site_by_species" title="Link to this definition">#</a></dt>
<dd><p>Group required properties on sites by species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – Entries of computed structures.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(Entry index, site index) belonging to each species.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>defaultdict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.is_trained">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_trained</span></span><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.is_trained" title="Link to this definition">#</a></dt>
<dd><p>Gives whether this decorator is trained before.</p>
<p>If trained, will be blocked from training again.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether the model has been trained.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.required_prop_names">
<span class="sig-name descname"><span class="pre">required_prop_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.required_prop_names" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.BaseDecorator.train">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#BaseDecorator.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.BaseDecorator.train" title="Link to this definition">#</a></dt>
<dd><p>Train the decoration model.</p>
<p>Model or model parameters should be stored in a property of the
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – Entries of computed structures.</p></li>
<li><p><strong>reset</strong> (<em>bool</em>) – optional
If you want to re-train the decorator model, set this value
to true. Otherwise, will skip training if the model is
trained. Default to false.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GpOptimizedDecorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cuts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#GpOptimizedDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#WFacer.specie_decorators.base.BaseDecorator" title="WFacer.specie_decorators.base.BaseDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDecorator</span></code></a></p>
<p>Gaussian process decorator class.</p>
<p>Uses Gaussian optimization process described by <a class="reference external" href="https://www.nature.com/articles/s41524-022-00818-3">J. H. Yang
et al.</a></p>
<p>Up to now, this class can only take as input a single scalar
property per site.</p>
<p>Initialize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>dict</em><em> of </em><em>str to list</em>) – optional
A table of labels to decorate each element with.
keys are species symbol, values are possible decorated property
values, such as oxidation states, magnetic spin directions.
Values are sorted such that the cluster centers in the
required property is increasing. For example, in Mn(2, 3, 4)+
all high spin, the magnetic moments is sorted as [Mn4+, Mn3+, Mn2+],
thus you should provide labels as {Element(“Mn”):[4, 3, 2]}.
Keys can be either Element and Species object, or their
string representations. Currently, do not support decoration
of Vacancy.
If you have multiple required properties, or required properties
have multiple dimensions, the labels order must match the sort
in the order of self.required_properties. Properties are sorted
lexicographically.
This argument may not be necessary for some sub-classes, such as:
GuessChargeDecorator.
Be sure to provide labels for all the species you wish to assign
a property to, otherwise, you are the cause of your own error!</p></li>
<li><p><strong>cuts</strong> (<em>dict</em><em> of </em><em>str</em><em> or </em><em>Species over list</em>) – <p>optional
Cuts to divide required property value into sectors, so as
to decide the label they belong to. Keys are the same
as argument “labels”.
For example, if labels={Element(“Mn”):[4, 3, 2]} and
cuts={Element(“Mn”):[0.5, 1.0]}, and the required property
is “total_magmom”, then Mn atoms with magnetic moment &lt; 0.5
will be assigned label 4, atoms with 0.5 &lt;= magnetic moment
&lt; 1.0 will be assigned label 3, and atoms with magnetic
moment &gt;= 1.0 will be assigned label 2.
If provided:</p>
<ol class="arabic simple">
<li><p>Cut values must be monotonically increasing,</p></li>
<li><p>Must satisfy len(labels[key]) = len(cuts[key]) + 1 for any key.</p></li>
</ol>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#GpOptimizedDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.as_dict" title="Link to this definition">#</a></dt>
<dd><p>Serialize the decorator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator.decorate">
<span class="sig-name descname"><span class="pre">decorate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#GpOptimizedDecorator.decorate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.decorate" title="Link to this definition">#</a></dt>
<dd><p>Give decoration to entries based on trained model.</p>
<p>If an assigned entry is not valid,
for example, in charge assignment, if a decorated structure is not
charge neutral, then its corresponding entry will be returned as None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – Entries of computed, undecorated structures.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Entries with decorated structures or failed structures.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of NoneType or ComputedStructureEntry</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator.decorated_prop_name">
<span class="sig-name descname"><span class="pre">decorated_prop_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.decorated_prop_name" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#GpOptimizedDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.from_dict" title="Link to this definition">#</a></dt>
<dd><p>Deserialization.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator.is_trained">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_trained</span></span><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.is_trained" title="Link to this definition">#</a></dt>
<dd><p>Gives whether this decorator is trained before.</p>
<p>If trained, will be blocked from training again.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether the model is trained.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator.required_prop_names">
<span class="sig-name descname"><span class="pre">required_prop_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.required_prop_names" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.GpOptimizedDecorator.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_calls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#GpOptimizedDecorator.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.train" title="Link to this definition">#</a></dt>
<dd><p>Train the decoration model.</p>
<p>First initialize with mixture of gaussian, then
optimize some objective function with gaussian process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – Entries of computed structures.</p></li>
<li><p><strong>reset</strong> (<em>bool</em>) – optional
If you want to re-train the decorator model, set this value
to true. Otherwise, training will be skipped if the model is
trained. Default to false.</p></li>
<li><p><strong>n_calls</strong> (<em>int</em>) – optional
The number of iterations to be used by <code class="xref py py-func docutils literal notranslate"><span class="pre">gp_minimize()</span></code>.
Default is 50.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MixtureGaussianDecorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaussian_models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#WFacer.specie_decorators.base.BaseDecorator" title="WFacer.specie_decorators.base.BaseDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDecorator</span></code></a></p>
<p>Mixture of Gaussians (MoGs) decorator class.</p>
<p>Uses mixture of Gaussians method to label each species.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>No test has been added for this specific class yet.</p>
</div>
<p>Initialize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>dict</em><em> of </em><em>str to list</em>) – optional
A table of labels to decorate each element with.
keys are species symbol, values are possible decorated property
values, such as oxidation states, magnetic spin directions.
Values are sorted such that the cluster centers in the
required property is increasing. For example, in Mn(2, 3, 4)+
all high spin, the magnetic moments is sorted as [Mn4+, Mn3+, Mn2+],
thus you should provide labels as {Element(“Mn”):[4, 3, 2]}.
If you have multiple required properties, or required properties
have multiple dimensions, the labels order must match the sort
in the order of self.required_properties. Properties are sorted
lexicographically.
Keys can be either Element|Species object, or their
string representations. Currently, do not support decoration
of Vacancy.
This argument may not be necessary for some sub-classes, such as:
GuessChargeDecorator.
Be sure to provide labels for all the species you wish to assign
a property to, otherwise, you are the cause of your own error!</p></li>
<li><p><strong>gaussian_models</strong> (<em>dict</em><em> of </em><em>str</em><em> or </em><em>Element</em><em> or </em><em>Species to GaussianMixture</em>) – Gaussian models corresponding to each key in argument <strong>labels</strong>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.as_dict" title="Link to this definition">#</a></dt>
<dd><p>Serialize to dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.decorate">
<span class="sig-name descname"><span class="pre">decorate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator.decorate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.decorate" title="Link to this definition">#</a></dt>
<dd><p>Give decoration to entries based on trained model.</p>
<p>If an assigned entry is not valid,
for example, in charge assignment, if an assigned structure is not
charge neutral, then this entry will be returned as None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – Entries of computed, undecorated structures.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Entries with decorated structures or failed structures.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of NoneType or ComputedStructureEntry</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.decorated_prop_name">
<span class="sig-name descname"><span class="pre">decorated_prop_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.decorated_prop_name" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.deserialize_gaussian_model">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deserialize_gaussian_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator.deserialize_gaussian_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.deserialize_gaussian_model" title="Link to this definition">#</a></dt>
<dd><p>Recover gaussian model from dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.from_dict" title="Link to this definition">#</a></dt>
<dd><p>Load from dict.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.gaussian_model_keys">
<span class="sig-name descname"><span class="pre">gaussian_model_keys</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('weights_',</span> <span class="pre">'means_',</span> <span class="pre">'covariances_',</span> <span class="pre">'precisions_',</span> <span class="pre">'precisions_cholesky_',</span> <span class="pre">'converged_',</span> <span class="pre">'n_iter_',</span> <span class="pre">'lower_bound_')</span></em><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.gaussian_model_keys" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.is_trained">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_trained</span></span><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.is_trained" title="Link to this definition">#</a></dt>
<dd><p>Determine whether the decorator has been trained.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether the model has been trained.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.is_trained_gaussian_model">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_trained_gaussian_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator.is_trained_gaussian_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.is_trained_gaussian_model" title="Link to this definition">#</a></dt>
<dd><p>Whether a gaussian model is trained.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.required_prop_names">
<span class="sig-name descname"><span class="pre">required_prop_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.required_prop_names" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.serialize_gaussian_model">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">serialize_gaussian_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator.serialize_gaussian_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.serialize_gaussian_model" title="Link to this definition">#</a></dt>
<dd><p>Serialize gaussian model into dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.MixtureGaussianDecorator.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#MixtureGaussianDecorator.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.train" title="Link to this definition">#</a></dt>
<dd><p>Train the decoration model.</p>
<p>Model or model parameters should be stored in a property of the
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – Entries of computed structures.</p></li>
<li><p><strong>reset</strong> (<em>bool</em>) – optional
If you want to re-train the decorator model, set this value
to true. Otherwise, we will skip training if the model is
trained before. Default to false.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.NoTrainDecorator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NoTrainDecorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#NoTrainDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.NoTrainDecorator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#WFacer.specie_decorators.base.BaseDecorator" title="WFacer.specie_decorators.base.BaseDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDecorator</span></code></a></p>
<p>Decorators that does not need training.</p>
<p>Initialize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>labels</strong> (<em>dict</em><em> of </em><em>str</em><em> or </em><em>Species to list}</em>) – optional
A table of labels to decorate each element with.
keys are species symbol, values are possible decorated property
values, such as oxidation states, magnetic spin directions.
Values are sorted such that the corresponding cluster centers of the
required property is increasing. For example, in Mn(2, 3, 4)+
(high spin), the magnetic moments is sorted as [Mn4+, Mn3+, Mn2+],
thus you should provide labels as {Element(“Mn”):[4, 3, 2]}.
Keys can be either Element and Species object, or their
string representations. Currently, do not support decoration
of Vacancy.
If you have multiple required properties, or required properties
have multiple dimensions, the labels order must match the sort
in the order of self.required_properties. Properties are sorted
lexicographically.
This argument may not be necessary for some decorator, such as
GuessChargeDecorator.
Be sure to provide labels for all the species you wish to assign
a property to, otherwise, you are responsible for your own error!</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.NoTrainDecorator.is_trained">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_trained</span></span><a class="headerlink" href="#WFacer.specie_decorators.base.NoTrainDecorator.is_trained" title="Link to this definition">#</a></dt>
<dd><p>Always considered trained.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.NoTrainDecorator.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#NoTrainDecorator.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.NoTrainDecorator.train" title="Link to this definition">#</a></dt>
<dd><p>Train the model.</p>
<p>This decorator does not require training at all. Keep
this method just for consistency.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.decorator_factory">
<span class="sig-name descname"><span class="pre">decorator_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decorator_type</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#decorator_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.decorator_factory" title="Link to this definition">#</a></dt>
<dd><p>Create a BaseDecorator with its subclass name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decorator_type</strong> (<em>str</em>) – The name of a subclass of <a class="reference internal" href="#WFacer.specie_decorators.base.BaseDecorator" title="WFacer.specie_decorators.base.BaseDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDecorator</span></code></a>.</p></li>
<li><p><strong>*args</strong> – Arguments used to initialize the class.</p></li>
<li><p><strong>**kwargs</strong> – <p>Arguments used to initialize the class.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The initialized decorator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#WFacer.specie_decorators.base.BaseDecorator" title="WFacer.specie_decorators.base.BaseDecorator">BaseDecorator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WFacer.specie_decorators.base.get_site_property_query_names_from_decorator">
<span class="sig-name descname"><span class="pre">get_site_property_query_names_from_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/WFacer/specie_decorators/base.html#get_site_property_query_names_from_decorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WFacer.specie_decorators.base.get_site_property_query_names_from_decorator" title="Link to this definition">#</a></dt>
<dd><p>Get the required properties from a decorator name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>decname</strong> (<em>str</em>) – Decorator name.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of names of required site properties by the
decorator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Species decorators</p>
      </div>
    </a>
    <a class="right-next"
       href="charge.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Charge decorators</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator"><code class="docutils literal notranslate"><span class="pre">BaseDecorator</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.as_dict"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.as_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.decorate"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.decorate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.decorated_prop_name"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.decorated_prop_name</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.from_dict"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.from_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.group_site_by_species"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.group_site_by_species()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.is_trained"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.is_trained</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.required_prop_names"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.required_prop_names</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.BaseDecorator.train"><code class="docutils literal notranslate"><span class="pre">BaseDecorator.train()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.as_dict"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator.as_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.decorate"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator.decorate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.decorated_prop_name"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator.decorated_prop_name</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.from_dict"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator.from_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.is_trained"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator.is_trained</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.required_prop_names"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator.required_prop_names</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.GpOptimizedDecorator.train"><code class="docutils literal notranslate"><span class="pre">GpOptimizedDecorator.train()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.as_dict"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.as_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.decorate"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.decorate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.decorated_prop_name"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.decorated_prop_name</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.deserialize_gaussian_model"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.deserialize_gaussian_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.from_dict"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.from_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.gaussian_model_keys"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.gaussian_model_keys</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.is_trained"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.is_trained</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.is_trained_gaussian_model"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.is_trained_gaussian_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.required_prop_names"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.required_prop_names</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.serialize_gaussian_model"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.serialize_gaussian_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.MixtureGaussianDecorator.train"><code class="docutils literal notranslate"><span class="pre">MixtureGaussianDecorator.train()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.NoTrainDecorator"><code class="docutils literal notranslate"><span class="pre">NoTrainDecorator</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.NoTrainDecorator.is_trained"><code class="docutils literal notranslate"><span class="pre">NoTrainDecorator.is_trained</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.NoTrainDecorator.train"><code class="docutils literal notranslate"><span class="pre">NoTrainDecorator.train()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.decorator_factory"><code class="docutils literal notranslate"><span class="pre">decorator_factory()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#WFacer.specie_decorators.base.get_site_property_query_names_from_decorator"><code class="docutils literal notranslate"><span class="pre">get_site_property_query_names_from_decorator()</span></code></a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  
  <div class="tocsection editthispage">
    <a href="https://github.com/CederGroupHub/WFacer/edit/main/docs/src/api_reference/species_decorators/base.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2022-2023, Ceder Group.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>